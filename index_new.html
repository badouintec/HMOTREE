<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Hermosillo Tree Map - Explora el Bosque Urbano</title>
  <meta name="description" content="Mapa interactivo del bosque urbano de Hermosillo. Explora árboles, beneficios ecológicos y únete al cuidado ambiental.">
  
  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  
  <!-- Map & Charts -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
  
  <!-- Custom Styles -->
  <link rel="stylesheet" href="style_new.css"/>
</head>
<body>
  <!-- ============================================================================ -->
  <!-- HEADER PROFESIONAL -->
  <!-- ============================================================================ -->
  <header class="main-header">
    <div class="header-container">
      <div class="brand">
        <div class="logo">
          <i class="fas fa-tree"></i>
        </div>
        <div class="brand-text">
          <h1>Hermosillo Tree Map</h1>
          <p>Bosque Urbano de Sonora</p>
        </div>
      </div>
      
      <nav class="main-nav">
        <button class="nav-btn active" data-section="map">
          <i class="fas fa-map"></i>
          <span>Mapa</span>
        </button>
        <button class="nav-btn" data-section="explore">
          <i class="fas fa-search"></i>
          <span>Explorar</span>
        </button>
        <button class="nav-btn" data-section="benefits">
          <i class="fas fa-leaf"></i>
          <span>Beneficios</span>
        </button>
        <button class="nav-btn" data-section="learn">
          <i class="fas fa-graduation-cap"></i>
          <span>Aprender</span>
        </button>
        <button class="nav-btn" data-section="community">
          <i class="fas fa-users"></i>
          <span>Comunidad</span>
        </button>
      </nav>
      
      <div class="header-actions">
        <button class="action-btn search-btn">
          <i class="fas fa-search"></i>
        </button>
        <button class="action-btn filter-btn">
          <i class="fas fa-filter"></i>
        </button>
        <button class="action-btn panel-toggle">
          <i class="fas fa-info-circle"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- ============================================================================ -->
  <!-- CONTENEDOR PRINCIPAL -->
  <!-- ============================================================================ -->
  <main class="app-container">
    
    <!-- ============================================================================ -->
    <!-- SECCIÓN: MAPA INTERACTIVO -->
    <!-- ============================================================================ -->
    <section id="map-section" class="app-section active">
      <div class="map-container">
        <div id="map" class="leaflet-map"></div>
        
        <!-- Controles del Mapa -->
        <div class="map-controls">
          <button class="control-btn locate-btn" title="Mi ubicación">
            <i class="fas fa-location-arrow"></i>
          </button>
          <button class="control-btn fullscreen-btn" title="Pantalla completa">
            <i class="fas fa-expand"></i>
          </button>
          <button class="control-btn layers-btn" title="Capas">
            <i class="fas fa-layer-group"></i>
          </button>
        </div>
        
        <!-- Panel Lateral -->
        <aside class="info-panel">
          <div class="panel-header">
            <h3 id="panel-title">Estadísticas del Bosque Urbano</h3>
            <button class="panel-close">
              <i class="fas fa-times"></i>
            </button>
          </div>
          
          <div class="panel-content">
            <!-- Contenido dinámico según selección -->
            <div id="overview-content" class="panel-view active">
              <div class="stats-overview">
                <div class="stat-card large">
                  <div class="stat-number" id="total-trees">—</div>
                  <div class="stat-label">Árboles Mapeados</div>
                </div>
                
                <div class="stats-grid">
                  <div class="stat-card">
                    <div class="stat-number" id="total-species">—</div>
                    <div class="stat-label">Especies Nativas</div>
                  </div>
                  <div class="stat-card">
                    <div class="stat-number" id="total-benefits">—</div>
                    <div class="stat-label">Valor Anual USD</div>
                  </div>
                </div>
              </div>
              
              <!-- Beneficios Ecológicos -->
              <div class="benefits-section">
                <h4><i class="fas fa-leaf"></i> Beneficios Ecológicos Anuales</h4>
                <p class="methodology-note">Metodología U.S. Forest Service</p>
                
                <div class="benefit-items">
                  <div class="benefit-item">
                    <div class="benefit-icon water">
                      <i class="fas fa-tint"></i>
                    </div>
                    <div class="benefit-details">
                      <div class="benefit-value" id="stormwater-total">—</div>
                      <div class="benefit-label">Stormwater intercepted</div>
                      <div class="benefit-value-usd" id="stormwater-value">—</div>
                    </div>
                  </div>
                  
                  <div class="benefit-item">
                    <div class="benefit-icon energy">
                      <i class="fas fa-bolt"></i>
                    </div>
                    <div class="benefit-details">
                      <div class="benefit-value" id="energy-total">—</div>
                      <div class="benefit-label">Energy conserved</div>
                      <div class="benefit-value-usd" id="energy-value">—</div>
                    </div>
                  </div>
                  
                  <div class="benefit-item">
                    <div class="benefit-icon air">
                      <i class="fas fa-wind"></i>
                    </div>
                    <div class="benefit-details">
                      <div class="benefit-value" id="air-total">—</div>
                      <div class="benefit-label">Air pollutants removed</div>
                      <div class="benefit-value-usd" id="air-value">—</div>
                    </div>
                  </div>
                </div>
                
                <div class="total-benefits">
                  <div class="total-label">Total Value of Annual Benefits</div>
                  <div class="total-value" id="total-annual-benefits">—</div>
                </div>
              </div>
              
              <!-- Especies Comunes -->
              <div class="species-section">
                <h4><i class="fas fa-seedling"></i> Especies Más Comunes</h4>
                <div id="common-species-list"></div>
              </div>
            </div>
            
            <!-- Contenido para árbol seleccionado -->
            <div id="tree-content" class="panel-view">
              <div class="tree-header">
                <div class="tree-photo">
                  <img id="tree-image" src="" alt="">
                  <div class="tree-id" id="tree-id-badge">—</div>
                </div>
                <div class="tree-info">
                  <h3 id="tree-species-name">—</h3>
                  <p id="tree-scientific-name">—</p>
                  <div class="tree-location" id="tree-location">—</div>
                </div>
              </div>
              
              <div class="tree-details">
                <div class="detail-row">
                  <span class="label">Diámetro:</span>
                  <span class="value" id="tree-diameter">—</span>
                </div>
                <div class="detail-row">
                  <span class="label">Altura:</span>
                  <span class="value" id="tree-height">—</span>
                </div>
                <div class="detail-row">
                  <span class="label">Copa:</span>
                  <span class="value" id="tree-crown">—</span>
                </div>
                <div class="detail-row">
                  <span class="label">Plantado:</span>
                  <span class="value" id="tree-year">—</span>
                </div>
                <div class="detail-row">
                  <span class="label">Estado:</span>
                  <span class="value" id="tree-health">—</span>
                </div>
              </div>
              
              <!-- Beneficios del árbol individual -->
              <div class="tree-benefits">
                <h4>Beneficios Ecológicos de Este Árbol</h4>
                <div class="tree-benefit-items" id="individual-benefits">
                  <!-- Contenido dinámico -->
                </div>
              </div>
            </div>
          </div>
        </aside>
      </div>
    </section>
    
    <!-- ============================================================================ -->
    <!-- SECCIÓN: EXPLORAR ÁRBOLES -->
    <!-- ============================================================================ -->
    <section id="explore-section" class="app-section">
      <div class="section-content">
        <div class="section-header">
          <h2>Explora el Bosque Urbano</h2>
          <p>Descubre las especies nativas de Hermosillo y sus características</p>
        </div>
        
        <div class="explore-filters">
          <div class="filter-group">
            <label>Buscar por especie:</label>
            <input type="text" id="species-search" placeholder="Ej: Mezquite, Palo Verde...">
          </div>
          <div class="filter-group">
            <label>Filtrar por tamaño:</label>
            <select id="size-filter">
              <option value="all">Todos los tamaños</option>
              <option value="small">Pequeños (< 5m)</option>
              <option value="medium">Medianos (5-10m)</option>
              <option value="large">Grandes (> 10m)</option>
            </select>
          </div>
          <div class="filter-group">
            <label>Estado de salud:</label>
            <select id="health-filter">
              <option value="all">Todos</option>
              <option value="excellent">Excelente</option>
              <option value="good">Buena</option>
              <option value="fair">Regular</option>
            </select>
          </div>
        </div>
        
        <div class="trees-grid" id="trees-grid">
          <!-- Contenido generado dinámicamente -->
        </div>
      </div>
    </section>
    
    <!-- ============================================================================ -->
    <!-- SECCIÓN: BENEFICIOS ECOLÓGICOS -->
    <!-- ============================================================================ -->
    <section id="benefits-section" class="app-section">
      <div class="section-content">
        <div class="section-header">
          <h2>Beneficios Ecológicos</h2>
          <p>Impacto medioambiental del bosque urbano según metodología U.S. Forest Service</p>
        </div>
        
        <div class="benefits-dashboard">
          <div class="benefit-card">
            <div class="benefit-visual">
              <canvas id="stormwater-chart"></canvas>
            </div>
            <div class="benefit-info">
              <h3>Gestión de Agua de Lluvia</h3>
              <p>Los árboles interceptan agua de lluvia, reduciendo la escorrentía y previniendo inundaciones urbanas.</p>
            </div>
          </div>
          
          <div class="benefit-card">
            <div class="benefit-visual">
              <canvas id="energy-chart"></canvas>
            </div>
            <div class="benefit-info">
              <h3>Ahorro Energético</h3>
              <p>La sombra de los árboles reduce la necesidad de aire acondicionado en edificios cercanos.</p>
            </div>
          </div>
          
          <div class="benefit-card">
            <div class="benefit-visual">
              <canvas id="air-quality-chart"></canvas>
            </div>
            <div class="benefit-info">
              <h3>Calidad del Aire</h3>
              <p>Los árboles filtran contaminantes del aire, mejorando la salud respiratoria de la comunidad.</p>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- ============================================================================ -->
    <!-- SECCIÓN: APRENDER -->
    <!-- ============================================================================ -->
    <section id="learn-section" class="app-section">
      <div class="section-content">
        <div class="section-header">
          <h2>Centro de Aprendizaje</h2>
          <p>Conoce más sobre los árboles urbanos y su importancia para Hermosillo</p>
        </div>
        
        <div class="learning-modules">
          <div class="module-card">
            <div class="module-icon">
              <i class="fas fa-seedling"></i>
            </div>
            <h3>Especies Nativas de Sonora</h3>
            <p>Aprende sobre las especies autóctonas y por qué son importantes para nuestro ecosistema local.</p>
            <button class="module-btn">Explorar</button>
          </div>
          
          <div class="module-card">
            <div class="module-icon">
              <i class="fas fa-tools"></i>
            </div>
            <h3>Cuidado de Árboles</h3>
            <p>Guías prácticas para el cuidado, poda y mantenimiento de árboles urbanos.</p>
            <button class="module-btn">Aprender</button>
          </div>
          
          <div class="module-card">
            <div class="module-icon">
              <i class="fas fa-chart-line"></i>
            </div>
            <h3>Metodología Científica</h3>
            <p>Conoce cómo calculamos los beneficios ecológicos usando estándares internacionales.</p>
            <button class="module-btn">Ver Metodología</button>
          </div>
        </div>
      </div>
    </section>
    
    <!-- ============================================================================ -->
    <!-- SECCIÓN: COMUNIDAD -->
    <!-- ============================================================================ -->
    <section id="community-section" class="app-section">
      <div class="section-content">
        <div class="section-header">
          <h2>Comunidad Verde</h2>
          <p>Únete a eventos de plantación y cuidado del bosque urbano de Hermosillo</p>
        </div>
        
        <div class="community-content">
          <div class="events-section">
            <h3>Próximos Eventos</h3>
            <div class="event-list">
              <div class="event-card">
                <div class="event-date">
                  <span class="day">15</span>
                  <span class="month">JUL</span>
                </div>
                <div class="event-info">
                  <h4>Plantación Comunitaria</h4>
                  <p>Parque Madero - 8:00 AM</p>
                  <span class="event-type">Plantación</span>
                </div>
              </div>
              
              <div class="event-card">
                <div class="event-date">
                  <span class="day">22</span>
                  <span class="month">JUL</span>
                </div>
                <div class="event-info">
                  <h4>Taller de Poda</h4>
                  <p>Centro Cultural - 10:00 AM</p>
                  <span class="event-type">Educativo</span>
                </div>
              </div>
            </div>
          </div>
          
          <div class="impact-section">
            <h3>Tu Impacto</h3>
            <div class="impact-stats">
              <div class="impact-card">
                <div class="impact-number">0</div>
                <div class="impact-label">Árboles Adoptados</div>
              </div>
              <div class="impact-card">
                <div class="impact-number">0</div>
                <div class="impact-label">Eventos Asistidos</div>
              </div>
              <div class="impact-card">
                <div class="impact-number">$0</div>
                <div class="impact-label">Beneficio Ecológico</div>
              </div>
            </div>
            
            <button class="cta-btn">Únete Ahora</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- ============================================================================ -->
  <!-- BUSCADOR GLOBAL -->
  <!-- ============================================================================ -->
  <div id="search-overlay" class="search-overlay">
    <div class="search-container">
      <div class="search-header">
        <input type="text" id="global-search" placeholder="Buscar árboles, especies, ubicaciones...">
        <button class="search-close">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="search-results" id="search-results">
        <!-- Resultados dinámicos -->
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="script_new.js"></script>
</body>
</html>
