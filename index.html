<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Hermosillo Tree Map</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <link rel="stylesheet" href="style.css"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header class="header">
    <div class="logo-section">
      <img src="icon.svg" alt="Logo Hermosillo Parks" class="logo">
      <div>
        <div class="site-title">Hermosillo Tree Map</div>
        <div class="site-tagline">Explora y cuida el bosque urbano de Hermosillo</div>
      </div>
    </div>
    <nav class="main-nav">
      <a href="#" class="active">Map</a>
      <a href="#">My Trees</a>
      <a href="#">Learn</a>
      <a href="#">Groups</a>
    </nav>
    <div class="header-controls">
      <button class="ctrl">Text Size A‚áÖ</button>
      <button class="ctrl">Language üàÇ</button>
    </div>
  </header>

  <div class="container">
    <aside class="sidebar">
      <div class="sidebar-content">
        <!-- Tree Details Panel -->
        <div id="tree-details" class="tree-details">
          <div class="tree-header">
            <div class="tree-icon">
              <svg width="60" height="80" viewBox="0 0 60 80">
                <path d="M30 10 C20 10, 15 20, 20 30 C10 25, 5 35, 15 40 C5 35, 0 45, 10 50 C15 55, 25 50, 30 55 C35 50, 45 55, 50 50 C60 45, 55 35, 45 40 C55 35, 50 25, 40 30 C45 20, 40 10, 30 10 Z" fill="#4CAF50"/>
                <rect x="28" y="55" width="4" height="20" fill="#8B4513"/>
              </svg>
            </div>
            <div class="tree-info">
              <h2 id="tree-species">Selecciona un √°rbol</h2>
              <p id="tree-scientific">Haz clic en cualquier √°rbol del mapa</p>
            </div>
          </div>

          <div id="tree-data" class="tree-data" style="display: none;">
            <div class="data-row">
              <label>Direcci√≥n m√°s cercana</label>
              <span id="tree-address">‚Äî</span>
            </div>
            <div class="data-row">
              <label>ID del √Årbol</label>
              <span id="tree-id">‚Äî</span>
            </div>
            <div class="data-row">
              <label>Di√°metro del Tronco</label>
              <span id="tree-diameter">‚Äî</span>
            </div>
            <div class="data-row">
              <label>Altura</label>
              <span id="tree-height">‚Äî</span>
            </div>
            <div class="data-row">
              <label>Di√°metro de Copa</label>
              <span id="tree-crown">‚Äî</span>
            </div>
            <div class="data-row">
              <label>A√±o de Plantaci√≥n</label>
              <span id="tree-year">‚Äî</span>
            </div>
            <div class="data-row">
              <label>Estado de Salud</label>
              <span id="tree-health">‚Äî</span>
            </div>
            <div class="data-row">
              <label>Condici√≥n General</label>
              <span id="tree-condition">‚Äî</span>
            </div>

            <!-- Tree Statistics -->
            <div class="tree-statistics">
              <h3>Estad√≠sticas del √Årbol</h3>
              <div class="stats-grid">
                <div class="stat-card">
                  <div class="stat-icon">üìè</div>
                  <div class="stat-info">
                    <span class="stat-value" id="tree-age">‚Äî</span>
                    <span class="stat-label">A√±os de Edad</span>
                  </div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon">üåø</div>
                  <div class="stat-info">
                    <span class="stat-value" id="tree-area">‚Äî</span>
                    <span class="stat-label">m¬≤ de Sombra</span>
                  </div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon">üíö</div>
                  <div class="stat-info">
                    <span class="stat-value" id="tree-co2">‚Äî</span>
                    <span class="stat-label">kg CO‚ÇÇ/a√±o</span>
                  </div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon">üå±</div>
                  <div class="stat-info">
                    <span class="stat-value" id="tree-score">‚Äî</span>
                    <span class="stat-label">Puntuaci√≥n</span>
                  </div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon">üçÉ</div>
                  <div class="stat-info">
                    <span class="stat-value" id="crown-area-actual">‚Äî</span>
                    <span class="stat-label">√Årea Real de Copa</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Enhanced Tree Analysis Section -->
            <div class="tree-analysis">
              <h3>An√°lisis Avanzado</h3>
              <div class="analysis-metrics">
                <div class="metric-row">
                  <span class="metric-label">üìä √çndice de Sostenibilidad:</span>
                  <span class="metric-value" id="sustainability-index">‚Äî</span>
                </div>
                <div class="metric-row">
                  <span class="metric-label">üåç Contribuci√≥n Ecol√≥gica:</span>
                  <span class="metric-value" id="ecological-contribution">‚Äî</span>
                </div>
                <div class="metric-row">
                  <span class="metric-label">üí° Eficiencia Energ√©tica:</span>
                  <span class="metric-value" id="energy-efficiency">‚Äî</span>
                </div>
              </div>
            </div>

            <!-- Charts Container for Individual Tree -->
            <div class="tree-charts">
              <h3>An√°lisis del √Årbol</h3>
              <div class="charts-container">
                <h4>Estado del √Årbol</h4>
                <canvas id="speciesChart" width="300" height="200"></canvas>
                
                <h4 style="margin-top: 20px;">Beneficios Espec√≠ficos</h4>
                <canvas id="benefitsChart" width="300" height="200"></canvas>
              </div>
            </div>

            <div class="action-buttons">
              <button class="btn-action" id="suggest-edit">‚úèÔ∏è Sugerir una Edici√≥n</button>
              <button class="btn-action" id="record-care">üìù Registrar Cuidado del √Årbol</button>
            </div>

            <div class="tree-activities">
              <h3>Actividades de Cuidado</h3>
              <p class="no-activities">No hay actividades reportadas para este √°rbol. Haz clic en "Registrar Cuidado del √Årbol" para registrar actividad.</p>
            </div>

            <!-- Ecological Benefits -->
            <div class="ecological-benefits">
              <h3>Beneficios Ecol√≥gicos</h3>
              
              <div class="benefit-item">
                <div class="benefit-icon">üíß</div>
                <div class="benefit-content">
                  <h4>Agua pluvial interceptada cada a√±o</h4>
                  <div class="benefit-value">
                    <span id="water-amount" class="amount">‚Äî</span>
                    <span class="unit">litros</span>
                    <span class="value">Valor: <span id="water-value">‚Äî</span></span>
                  </div>
                </div>
              </div>

              <div class="benefit-item">
                <div class="benefit-icon">‚ö°</div>
                <div class="benefit-content">
                  <h4>Energ√≠a conservada cada a√±o</h4>
                  <div class="benefit-value">
                    <span id="energy-amount" class="amount">‚Äî</span>
                    <span class="unit">kWh</span>
                    <span class="value">Valor: <span id="energy-value">‚Äî</span></span>
                  </div>
                </div>
              </div>

              <div class="benefit-item">
                <div class="benefit-icon">üå¨Ô∏è</div>
                <div class="benefit-content">
                  <h4>Contaminantes del aire removidos cada a√±o</h4>
                  <div class="benefit-value">
                    <span id="air-amount" class="amount">‚Äî</span>
                    <span class="unit">kg</span>
                    <span class="value">Valor: <span id="air-value">‚Äî</span></span>
                  </div>
                </div>
              </div>

              <div class="benefit-item">
                <div class="benefit-icon">ü´Å</div>
                <div class="benefit-content">
                  <h4>Ox√≠geno producido cada a√±o</h4>
                  <div class="benefit-value">
                    <span id="oxygen-amount" class="amount">‚Äî</span>
                    <span class="unit">kg</span>
                    <span class="value">Valor: <span id="oxygen-value">‚Äî</span></span>
                  </div>
                </div>
              </div>

              <div class="benefit-item">
                <div class="benefit-icon">üå±</div>
                <div class="benefit-content">
                  <h4>Carbono secuestrado cada a√±o</h4>
                  <div class="benefit-value">
                    <span id="carbon-amount" class="amount">‚Äî</span>
                    <span class="unit">kg</span>
                    <span class="value">Valor: <span id="carbon-value">‚Äî</span></span>
                  </div>
                </div>
              </div>

              <div class="benefit-item">
                <div class="benefit-icon">üå°Ô∏è</div>
                <div class="benefit-content">
                  <h4>Reducci√≥n de temperatura</h4>
                  <div class="benefit-value">
                    <span id="temperature-reduction" class="amount">‚Äî</span>
                    <span class="unit">en el √°rea de sombra</span>
                  </div>
                </div>
              </div>

              <div class="total-benefit">
                <div class="benefit-icon">üí∞</div>
                <div class="benefit-content">
                  <h4>Valor Total de Beneficios Anuales</h4>
                  <div class="total-value">
                    Valor: <span id="total-value">‚Äî</span>
                  </div>
                </div>
              </div>

              <p class="benefits-note">Los beneficios se calculan usando f√≥rmulas del Servicio Forestal de EE.UU.</p>
              
              <button class="learn-more-btn">APRENDE M√ÅS SOBRE LOS BENEFICIOS DE LOS √ÅRBOLES EN HERMOSILLO</button>
            </div>
          </div>

          <!-- Default Welcome Panel -->
          <div id="welcome-panel" class="welcome-panel">
            <h1>Hermosillo's Trees</h1>
            <hr class="accent">
            <p>Este mapa interactivo trae el bosque urbano de Hermosillo a tus manos. Al hacer zoom podr√°s ver cada √°rbol de Parque Madero y obtener sus datos con un clic.</p>
            
            <div class="stats-container">
              <h3>Estad√≠sticas del Bosque Urbano</h3>
              <div class="stat-item">
                <span class="stat-number">6</span>
                <span class="stat-label">√Årboles Registrados</span>
              </div>
              <div class="stat-item">
                <span class="stat-number">5</span>
                <span class="stat-label">Especies Diferentes</span>
              </div>
              <div class="stat-item">
                <span class="stat-number">$10,400</span>
                <span class="stat-label">Valor Anual en Beneficios</span>
              </div>
              
              <!-- Charts Container -->
              <div class="charts-container">
                <h4>Distribuci√≥n por Especies</h4>
                <canvas id="speciesChart" width="300" height="200"></canvas>
                
                <h4 style="margin-top: 20px;">Beneficios Ecol√≥gicos Totales</h4>
                <canvas id="benefitsChart" width="300" height="200"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </aside>
    <div id="map" class="map">
      <div class="map-controls">
        <div class="search-box">
          <input type="text" placeholder="Zoom to Address" id="address-search">
          <button class="search-btn">üîç</button>
        </div>
        <div class="map-actions">
          <button class="map-btn share-btn">üì§ Share</button>
          <button class="map-btn tweet-btn">üê¶ Tweet</button>
          <button class="map-btn favorite-btn">‚ù§Ô∏è Favorite</button>
          <button class="map-btn report-btn">‚ö†Ô∏è Report Problem</button>
        </div>
      </div>
      <div class="map-legend">
        <p><strong>Clave del Mapa:</strong> El color del marcador indica la especie. El tama√±o del marcador indica el di√°metro del tronco. Haz clic en un √°rbol en el mapa para ver los detalles completos del √°rbol.</p>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="script.js"></script>
</body>
</html>
